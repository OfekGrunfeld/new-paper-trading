{% extends "base.html" %}

{% block title %}
    {{ super() }} | Portfolio Overview
{% endblock %}

{% block styles %}
  {{ super()}}
{% endblock %}

{% block scripts %}
    {{ super()}}
{% endblock %}

{% block content %}
<div class="container">
    <!-- Stylish Header -->
    <div class="py-3 px-3 mb-3 bg-3 rounded">
        <h1 class="display-4">Your Portfolio Overview</h1>
        <p class="lead">Keep track of your investments</p>
    </div>

    <!-- Portfolio Details -->
    <h2 class="display-6">Current Balance: ${{ "{:,.2f}".format(balance) }}</h2>
    <br>
    {% for symbol, transactions in symbols.items() %}
        <div class="card mb-4">
            <div class="card-header bg-3">
                <div class="d-flex justify-content-between align-items-center">
                    <h3 class="mb-0">{{ symbol }} Holdings</h3>
                    <a href="/my/portfolio/{{ symbol }}" class="btn btn-primary symbol-button">Summary</a>
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Shares</th>
                                <th>Worth Now</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{ "%.2f"|format(total_shares[symbol]) }}</td>
                                <td>{{ "{:,.2f}".format(total_worths[symbol]) }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}
